import Link from "next/link";
import { useEffect, useRef } from "react";
import classes from "./style.module.scss";

function Navbar() {
  const navbarRef = useRef();

  useEffect(() => {
    const scrollEvent = (e) => {
      console.log(document.documentElement.scrollTop);
      const isClassExist = navbarRef.current.classList.contains(classes.shadow);
      console.log(isClassExist);
      if (document.documentElement.scrollTop == 0 && isClassExist) navbarRef.current.classList.remove(classes.shadow);
      else if (document.documentElement.scrollTop > 0 && !isClassExist) navbarRef.current.classList.add(classes.shadow);
    };

    window.addEventListener("scroll", scrollEvent);

    return () => {
      window.removeEventListener("scroll", scrollEvent);
    };
  }, []);

  return (
    <header ref={navbarRef} className={classes.header}>
      <nav className={classes.nav}>
      <Link href="/" className={classes.logoWrapper}>
        <svg width="107" height="21" viewBox="0 0 107 21" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M0.580256 1.81818H5.32102L10.3281 14.0341H10.5412L15.5483 1.81818H20.2891V20H16.5604V8.16584H16.4094L11.7042 19.9112H9.16513L4.45987 8.12145H4.30895V20H0.580256V1.81818ZM29.5464 20.2663C28.1674 20.2663 26.9748 19.9734 25.9687 19.3874C24.9684 18.7956 24.1961 17.9729 23.6515 16.9194C23.107 15.86 22.8348 14.6319 22.8348 13.2351C22.8348 11.8265 23.107 10.5954 23.6515 9.5419C24.1961 8.48248 24.9684 7.6598 25.9687 7.07386C26.9748 6.48201 28.1674 6.18608 29.5464 6.18608C30.9255 6.18608 32.1151 6.48201 33.1153 7.07386C34.1215 7.6598 34.8968 8.48248 35.4413 9.5419C35.9858 10.5954 36.2581 11.8265 36.2581 13.2351C36.2581 14.6319 35.9858 15.86 35.4413 16.9194C34.8968 17.9729 34.1215 18.7956 33.1153 19.3874C32.1151 19.9734 30.9255 20.2663 29.5464 20.2663ZM29.5642 17.3366C30.1916 17.3366 30.7153 17.1591 31.1356 16.804C31.5558 16.4429 31.8724 15.9517 32.0855 15.3303C32.3045 14.7088 32.414 14.0015 32.414 13.2085C32.414 12.4154 32.3045 11.7081 32.0855 11.0866C31.8724 10.4652 31.5558 9.97396 31.1356 9.61293C30.7153 9.25189 30.1916 9.07138 29.5642 9.07138C28.9309 9.07138 28.3982 9.25189 27.9662 9.61293C27.54 9.97396 27.2175 10.4652 26.9985 11.0866C26.7854 11.7081 26.6789 12.4154 26.6789 13.2085C26.6789 14.0015 26.7854 14.7088 26.9985 15.3303C27.2175 15.9517 27.54 16.4429 27.9662 16.804C28.3982 17.1591 28.9309 17.3366 29.5642 17.3366ZM50.9909 6.36364L46.2235 20H41.9621L37.1947 6.36364H41.1897L44.0218 16.1204H44.1638L46.9869 6.36364H50.9909ZM52.9262 20V6.36364H56.7082V20H52.9262ZM54.8261 4.60582C54.2638 4.60582 53.7815 4.41939 53.379 4.04652C52.9825 3.66773 52.7842 3.21496 52.7842 2.68821C52.7842 2.16738 52.9825 1.72053 53.379 1.34766C53.7815 0.968868 54.2638 0.779473 54.8261 0.779473C55.3883 0.779473 55.8677 0.968868 56.2643 1.34766C56.6668 1.72053 56.868 2.16738 56.868 2.68821C56.868 3.21496 56.6668 3.66773 56.2643 4.04652C55.8677 4.41939 55.3883 4.60582 54.8261 4.60582ZM65.9522 20.2663C64.5495 20.2663 63.3422 19.9822 62.3301 19.4141C61.3239 18.84 60.5486 18.0291 60.0041 16.9815C59.4596 15.928 59.1873 14.6822 59.1873 13.244C59.1873 11.8413 59.4596 10.6102 60.0041 9.55078C60.5486 8.49136 61.315 7.66572 62.3034 7.07386C63.2978 6.48201 64.4637 6.18608 65.8013 6.18608C66.7009 6.18608 67.5384 6.33108 68.3137 6.62109C69.095 6.90518 69.7756 7.33428 70.3556 7.90838C70.9416 8.48248 71.3973 9.20455 71.7228 10.0746C72.0484 10.9387 72.2111 11.9508 72.2111 13.1108V14.1495H60.6966V11.8058H68.6511C68.6511 11.2612 68.5327 10.7789 68.296 10.3587C68.0592 9.93845 67.7308 9.60997 67.3105 9.37322C66.8962 9.13056 66.4139 9.00923 65.8635 9.00923C65.2894 9.00923 64.7804 9.1424 64.3365 9.40874C63.8985 9.66915 63.5552 10.0213 63.3066 10.4652C63.0581 10.9032 62.9308 11.3915 62.9249 11.93V14.1584C62.9249 14.8331 63.0492 15.4161 63.2978 15.9073C63.5523 16.3986 63.9103 16.7773 64.372 17.0437C64.8336 17.31 65.3811 17.4432 66.0144 17.4432C66.4346 17.4432 66.8193 17.384 67.1685 17.2656C67.5177 17.1473 67.8166 16.9697 68.0652 16.733C68.3137 16.4962 68.5031 16.2062 68.6333 15.8629L72.1312 16.0938C71.9537 16.9342 71.5897 17.6681 71.0392 18.2955C70.4947 18.9169 69.7904 19.4022 68.9263 19.7514C68.0681 20.0947 67.0768 20.2663 65.9522 20.2663ZM81.1955 20H74.7502V1.81818H81.2488C83.0776 1.81818 84.6519 2.18217 85.9718 2.91016C87.2916 3.63222 88.3066 4.67093 89.0169 6.02628C89.733 7.38163 90.0911 9.00331 90.0911 10.8913C90.0911 12.7853 89.733 14.4129 89.0169 15.7741C88.3066 17.1354 87.2857 18.18 85.954 18.908C84.6283 19.636 83.0421 20 81.1955 20ZM78.5943 16.7063H81.0357C82.1721 16.7063 83.1279 16.5051 83.9032 16.1026C84.6845 15.6942 85.2704 15.0639 85.661 14.2116C86.0576 13.3535 86.2559 12.2467 86.2559 10.8913C86.2559 9.54782 86.0576 8.44993 85.661 7.59766C85.2704 6.74538 84.6874 6.11802 83.9121 5.71555C83.1368 5.31309 82.1809 5.11186 81.0446 5.11186H78.5943V16.7063ZM92.9387 20V1.81818H100.218C101.556 1.81818 102.672 2.01645 103.565 2.413C104.459 2.80954 105.131 3.35997 105.581 4.06428C106.031 4.76267 106.255 5.56759 106.255 6.47905C106.255 7.18928 106.113 7.81368 105.829 8.35227C105.545 8.88494 105.155 9.32292 104.657 9.66619C104.166 10.0036 103.604 10.2433 102.971 10.3853V10.5629C103.663 10.5924 104.311 10.7878 104.915 11.1488C105.524 11.5098 106.019 12.0159 106.397 12.6669C106.776 13.312 106.966 14.0814 106.966 14.9751C106.966 15.9399 106.726 16.801 106.247 17.5586C105.773 18.3103 105.072 18.9051 104.142 19.343C103.213 19.781 102.068 20 100.707 20H92.9387ZM96.7828 16.8572H99.9166C100.988 16.8572 101.769 16.6531 102.26 16.2447C102.752 15.8304 102.997 15.2799 102.997 14.5934C102.997 14.0903 102.876 13.6464 102.633 13.2617C102.391 12.877 102.044 12.5752 101.595 12.3562C101.151 12.1372 100.621 12.0277 100.005 12.0277H96.7828V16.8572ZM96.7828 9.42649H99.6325C100.159 9.42649 100.627 9.33475 101.035 9.15128C101.45 8.96188 101.775 8.69555 102.012 8.35227C102.254 8.009 102.376 7.59766 102.376 7.11825C102.376 6.46129 102.142 5.93158 101.674 5.52912C101.213 5.12666 100.556 4.92543 99.7036 4.92543H96.7828V9.42649Z"
            fill="url(#paint0_linear_1_4)"
          />
          <defs>
            <linearGradient
              id="paint0_linear_1_4"
              x1="-1"
              y1="10.6154"
              x2="108"
              y2="10.6154"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#11F596" />
              <stop offset="1" stopColor="#CA16F8" />
            </linearGradient>
          </defs>
        </svg>
      </Link>
      </nav>
    </header>
  );
}

export default Navbar;
